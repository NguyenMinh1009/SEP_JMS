using Microsoft.Extensions.Configuration;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Net.Mail;
using System.Net;
using System.Text;
using System.Threading.Tasks;


namespace SEP_JMS.Common.Utils
{
    public static class EmailHelper
    {
        private static string passTemplate = "<!DOCTYPE html><html lang=\"en\" xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:v=\"urn:schemas-microsoft-com:vml\" xmlns:o=\"urn:schemas-microsoft-com:office:office\"><head>\r\n  <title> [JMS] Reset Password </title>\r\n  <!--[if !mso]><!-- -->\r\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\r\n  <!--<![endif]-->\r\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n  <style type=\"text/css\">\r\n    #outlook a {\r\n      padding: 0;\r\n    }\r\n\r\n    body {\r\n      margin: 0;\r\n      padding: 0;\r\n      -webkit-text-size-adjust: 100%;\r\n      -ms-text-size-adjust: 100%;\r\n    }\r\n\r\n    table,\r\n    td {\r\n      border-collapse: collapse;\r\n      mso-table-lspace: 0pt;\r\n      mso-table-rspace: 0pt;\r\n    }\r\n\r\n    img {\r\n      border: 0;\r\n      height: auto;\r\n      line-height: 100%;\r\n      outline: none;\r\n      text-decoration: none;\r\n      -ms-interpolation-mode: bicubic;\r\n    }\r\n\r\n    p {\r\n      display: block;\r\n      margin: 13px 0;\r\n    }\r\n  </style>\r\n  <!--[if mso]>\r\n        <xml>\r\n        <o:OfficeDocumentSettings>\r\n          <o:AllowPNG/>\r\n          <o:PixelsPerInch>96</o:PixelsPerInch>\r\n        </o:OfficeDocumentSettings>\r\n        </xml>\r\n        <![endif]-->\r\n  <!--[if lte mso 11]>\r\n        <style type=\"text/css\">\r\n          .mj-outlook-group-fix { width:100% !important; }\r\n        </style>\r\n        <![endif]-->\r\n  <style type=\"text/css\">\r\n    @media only screen and (min-width:480px) {\r\n      .mj-column-per-100 {\r\n        width: 100% !important;\r\n        max-width: 100%;\r\n      }\r\n    }\r\n  </style>\r\n  <style type=\"text/css\">\r\n    @media only screen and (max-width:480px) {\r\n      table.mj-full-width-mobile {\r\n        width: 100% !important;\r\n      }\r\n\r\n      td.mj-full-width-mobile {\r\n        width: auto !important;\r\n      }\r\n    }\r\n  </style>\r\n  <style type=\"text/css\">\r\n    a,\r\n    span,\r\n    td,\r\n    th {\r\n      -webkit-font-smoothing: antialiased !important;\r\n      -moz-osx-font-smoothing: grayscale !important;\r\n    }\r\n  </style>\r\n</head>\r\n\r\n<body style=\"background-color:#ffffff;\">\r\n  <!-- <div style=\"display:none;font-size:1px;color:#ffffff;line-height:1px;max-height:0px;max-width:0px;opacity:0;overflow:hidden;\"> Welcome to JMS </div> -->\r\n  <div style=\"background-color:#ffffff;\">\r\n    <!--[if mso | IE]>\r\n      <table\r\n         align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"\" style=\"width:600px;\" width=\"600\"\r\n      >\r\n        <tr>\r\n          <td style=\"line-height:0px;font-size:0px;mso-line-height-rule:exactly;\">\r\n      <![endif]-->\r\n    <div style=\"margin:0px auto;max-width:600px;\">\r\n      <table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\">\r\n        <tbody>\r\n          <tr>\r\n            <td style=\"direction:ltr;font-size:0px;padding:20px 0;padding-bottom:0px;text-align:center;\">\r\n              <!--[if mso | IE]>\r\n                  <table role=\"presentation\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n                \r\n        <tr>\r\n      \r\n            <td\r\n               class=\"\" style=\"vertical-align:top;width:600px;\"\r\n            >\r\n          <![endif]-->\r\n              <div class=\"mj-column-per-100 mj-outlook-group-fix\" style=\"font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:top;width:100%;\">\r\n                <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"vertical-align:top;\" width=\"100%\">\r\n                  <tbody><tr>\r\n                    <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"border-collapse:collapse;border-spacing:0px;\">\r\n                        <tbody>\r\n                          <tr>\r\n                            <td style=\"width:50px;\">\r\n                              <!-- <img alt=\"image description\" height=\"auto\" src=\"https://codedmails.com/images/logo-circle.png\" style=\"border:0;display:block;outline:none;text-decoration:none;height:auto;width:100%;font-size:14px;\" width=\"50\" /> -->\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <div style=\"font-family:Helvetica, Arial, sans-serif;font-size:18px;font-weight:400;line-height:24px;text-align:left;color:#434245;\">\r\n                        <h1 style=\"margin: 0; font-size: 24px; line-height: normal; font-weight: bold;\"> Reset Password <br /> JMS! </h1>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                </tbody></table>\r\n              </div>\r\n              <!--[if mso | IE]>\r\n            </td>\r\n          \r\n        </tr>\r\n      \r\n                  </table>\r\n                <![endif]-->\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <!--[if mso | IE]>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n      \r\n      <table\r\n         align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"\" style=\"width:600px;\" width=\"600\"\r\n      >\r\n        <tr>\r\n          <td style=\"line-height:0px;font-size:0px;mso-line-height-rule:exactly;\">\r\n      <![endif]-->\r\n    <div style=\"margin:0px auto;max-width:600px;\">\r\n      <table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\">\r\n        <tbody>\r\n          <tr>\r\n            <td style=\"direction:ltr;font-size:0px;padding:20px 0;text-align:center;\">\r\n              <!--[if mso | IE]>\r\n                  <table role=\"presentation\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n                \r\n        <tr>\r\n      \r\n            <td\r\n               class=\"\" style=\"vertical-align:top;width:600px;\"\r\n            >\r\n          <![endif]-->\r\n              <div class=\"mj-column-per-100 mj-outlook-group-fix\" style=\"font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:top;width:100%;\">\r\n                <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"vertical-align:top;\" width=\"100%\">\r\n                  <tbody><tr>\r\n                    <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <div style=\"font-family:Helvetica, Arial, sans-serif;font-size:18px;font-weight:400;line-height:24px;text-align:left;color:#434245;\">Chúng tôi đã thiết lập lại mật khẩu mới cho bạn.</div>\r\n                    </td>\r\n                  </tr>\r\n                  \r\n                  <tr>\r\n                    <td align=\"left\" vertical-align=\"middle\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"border-collapse:separate;line-height:100%;\">\r\n                        <tbody><tr>\r\n                          <td align=\"center\" bgcolor=\"#2e58ff\" role=\"presentation\" style=\"border:none;border-radius:30px;cursor:auto;mso-padding-alt:10px 25px;background:#2e58ff;\" valign=\"middle\">\r\n                            <span style=\"display: inline-block; background: #2e58ff; color: #ffffff; font-family: Helvetica, Arial, sans-serif; font-size: 14px; font-weight: bold; line-height: 30px; margin: 0; text-decoration: none; padding: 10px 25px; mso-padding-alt: 0px; border-radius: 30px;\" target=\"_blank\"> {{PASSWORD}} </a>\r\n                          </td>\r\n                        </tr>\r\n                      </tbody></table>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <div style=\"font-family:Helvetica, Arial, sans-serif;font-size:18px;font-weight:400;line-height:24px;text-align:left;color:#434245;\">Nếu bạn cần bất kỳ sự trợ giúp nào, đừng ngần ngại liên hệ với chúng tôi theo <a href=\"#\" style=\"color: #2e58ff; text-decoration: none;\">admin@jmsz.com</a>!</div>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <div style=\"font-family:Helvetica, Arial, sans-serif;font-size:18px;font-weight:bold;line-height:24px;text-align:left;color:#434245;\">SEP-FU Team</div>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <!--[if mso | IE]>\r\n      <table\r\n         align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\"\r\n      >\r\n        <tr>\r\n      \r\n              <td>\r\n            <![endif]-->\r\n                      <table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"float:none;display:inline-table;\">\r\n                        <tbody><tr>\r\n                          <td style=\"padding:4px;\">\r\n                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"border-radius:3px;width:18px;\">\r\n                              <tbody><tr>\r\n                                <td style=\"font-size:0;height:18px;vertical-align:middle;width:18px;\">\r\n                                  <a href=\"#\" target=\"_blank\" style=\"color: #2e58ff; text-decoration: none;\">\r\n                                    <img alt=\"twitter-logo\" height=\"18\" src=\"https://codedmails.com/images/social/black/twitter-logo-transparent-black.png\" style=\"border-radius:3px;display:block;\" width=\"18\" />\r\n                                  </a>\r\n                                </td>\r\n                              </tr>\r\n                            </tbody></table>\r\n                          </td>\r\n                        </tr>\r\n                      </tbody></table>\r\n                      <!--[if mso | IE]>\r\n              </td>\r\n            \r\n              <td>\r\n            <![endif]-->\r\n                      <table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"float:none;display:inline-table;\">\r\n                        <tbody><tr>\r\n                          <td style=\"padding:4px;\">\r\n                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"border-radius:3px;width:18px;\">\r\n                              <tbody><tr>\r\n                                <td style=\"font-size:0;height:18px;vertical-align:middle;width:18px;\">\r\n                                  <a href=\"#\" target=\"_blank\" style=\"color: #2e58ff; text-decoration: none;\">\r\n                                    <img alt=\"facebook-logo\" height=\"18\" src=\"https://codedmails.com/images/social/black/facebook-logo-transparent-black.png\" style=\"border-radius:3px;display:block;\" width=\"18\" />\r\n                                  </a>\r\n                                </td>\r\n                              </tr>\r\n                            </tbody></table>\r\n                          </td>\r\n                        </tr>\r\n                      </tbody></table>\r\n                      <!--[if mso | IE]>\r\n              </td>\r\n            \r\n              <td>\r\n            <![endif]-->\r\n                      <table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"float:none;display:inline-table;\">\r\n                        <tbody><tr>\r\n                          <td style=\"padding:4px;\">\r\n                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"border-radius:3px;width:18px;\">\r\n                              <tbody><tr>\r\n                                <td style=\"font-size:0;height:18px;vertical-align:middle;width:18px;\">\r\n                                  <a href=\"#\" target=\"_blank\" style=\"color: #2e58ff; text-decoration: none;\">\r\n                                    <img alt=\"instagram-logo\" height=\"18\" src=\"https://codedmails.com/images/social/black/instagram-logo-transparent-black.png\" style=\"border-radius:3px;display:block;\" width=\"18\" />\r\n                                  </a>\r\n                                </td>\r\n                              </tr>\r\n                            </tbody></table>\r\n                          </td>\r\n                        </tr>\r\n                      </tbody></table>\r\n                      <!--[if mso | IE]>\r\n              </td>\r\n            \r\n          </tr>\r\n        </table>\r\n      <![endif]-->\r\n                    </td>\r\n                  </tr>\r\n                </tbody></table>\r\n              </div>\r\n              <!--[if mso | IE]>\r\n            </td>\r\n          \r\n        </tr>\r\n      \r\n                  </table>\r\n                <![endif]-->\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <!--[if mso | IE]>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n      \r\n      <table\r\n         align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"\" style=\"width:600px;\" width=\"600\"\r\n      >\r\n        <tr>\r\n          <td style=\"line-height:0px;font-size:0px;mso-line-height-rule:exactly;\">\r\n      <![endif]-->\r\n    <div style=\"margin:0px auto;max-width:600px;\">\r\n      <table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\">\r\n        <tbody>\r\n          <tr>\r\n            <td style=\"direction:ltr;font-size:0px;padding:20px 0;padding-top:0;text-align:center;\">\r\n              <!--[if mso | IE]>\r\n                  <table role=\"presentation\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n                \r\n        <tr>\r\n      \r\n            <td\r\n               class=\"\" style=\"vertical-align:top;width:600px;\"\r\n            >\r\n          <![endif]-->\r\n              <div class=\"mj-column-per-100 mj-outlook-group-fix\" style=\"font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:top;width:100%;\">\r\n                <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"vertical-align:top;\" width=\"100%\">\r\n                  <tbody><tr>\r\n                    <td style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <p style=\"border-top: dashed 1px lightgrey; font-size: 1px; margin: 0px auto; width: 100%;\">\r\n                      </p>\r\n                      <!--[if mso | IE]>\r\n        <table\r\n           align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-top:dashed 1px lightgrey;font-size:1px;margin:0px auto;width:550px;\" role=\"presentation\" width=\"550px\"\r\n        >\r\n          <tr>\r\n            <td style=\"height:0;line-height:0;\">\r\n              &nbsp;\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      <![endif]-->\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <div style=\"font-family:Helvetica, Arial, sans-serif;font-size:14px;font-weight:400;line-height:24px;text-align:left;color:#999999;\">Đây là sản phẩm bảo vệ đồ án của sinh viên FPT </a></div>\r\n                    </td>\r\n                  </tr>\r\n                  \r\n                </tbody></table>\r\n              </div>\r\n              <!--[if mso | IE]>\r\n            </td>\r\n          \r\n        </tr>\r\n      \r\n                  </table>\r\n                <![endif]-->\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <!--[if mso | IE]>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n      \r\n      <table\r\n         align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"\" style=\"width:600px;\" width=\"600\"\r\n      >\r\n        <tr>\r\n          <td style=\"line-height:0px;font-size:0px;mso-line-height-rule:exactly;\">\r\n      <![endif]-->\r\n    <div style=\"margin:0px auto;max-width:600px;\">\r\n      <table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\">\r\n        <tbody>\r\n          <tr>\r\n            <td style=\"direction:ltr;font-size:0px;padding:20px 0;text-align:center;\">\r\n              <!--[if mso | IE]>\r\n                  <table role=\"presentation\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n                \r\n        <tr>\r\n      \r\n            <td\r\n               class=\"\" style=\"vertical-align:top;width:600px;\"\r\n            >\r\n          <![endif]-->\r\n              <div class=\"mj-column-per-100 mj-outlook-group-fix\" style=\"font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:top;width:100%;\">\r\n                <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"vertical-align:top;\" width=\"100%\">\r\n                  <tbody><tr>\r\n                    <td style=\"font-size:0px;word-break:break-word;\">\r\n                      <!--[if mso | IE]>\r\n    \r\n        <table role=\"presentation\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><tr><td height=\"1\" style=\"vertical-align:top;height:1px;\">\r\n      \r\n    <![endif]-->\r\n                      <div style=\"height:1px;\">   </div>\r\n                      <!--[if mso | IE]>\r\n    \r\n        </td></tr></table>\r\n      \r\n    <![endif]-->\r\n                    </td>\r\n                  </tr>\r\n                </tbody></table>\r\n              </div>\r\n              <!--[if mso | IE]>\r\n            </td>\r\n          \r\n        </tr>\r\n      \r\n                  </table>\r\n                <![endif]-->\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <!--[if mso | IE]>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n      <![endif]-->\r\n  </div>\r\n\r\n\r\n</body></html>";
        private static string newAccount = "<!DOCTYPE html><html lang=\"en\" xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:v=\"urn:schemas-microsoft-com:vml\" xmlns:o=\"urn:schemas-microsoft-com:office:office\"><head>\r\n  <title> [JMS] Account Information </title>\r\n  <!--[if !mso]><!-- -->\r\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\r\n  <!--<![endif]-->\r\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n  <style type=\"text/css\">\r\n    #outlook a {\r\n      padding: 0;\r\n    }\r\n\r\n    body {\r\n      margin: 0;\r\n      padding: 0;\r\n      -webkit-text-size-adjust: 100%;\r\n      -ms-text-size-adjust: 100%;\r\n    }\r\n\r\n    table,\r\n    td {\r\n      border-collapse: collapse;\r\n      mso-table-lspace: 0pt;\r\n      mso-table-rspace: 0pt;\r\n    }\r\n\r\n    img {\r\n      border: 0;\r\n      height: auto;\r\n      line-height: 100%;\r\n      outline: none;\r\n      text-decoration: none;\r\n      -ms-interpolation-mode: bicubic;\r\n    }\r\n\r\n    p {\r\n      display: block;\r\n      margin: 13px 0;\r\n    }\r\n  </style>\r\n  <!--[if mso]>\r\n        <xml>\r\n        <o:OfficeDocumentSettings>\r\n          <o:AllowPNG/>\r\n          <o:PixelsPerInch>96</o:PixelsPerInch>\r\n        </o:OfficeDocumentSettings>\r\n        </xml>\r\n        <![endif]-->\r\n  <!--[if lte mso 11]>\r\n        <style type=\"text/css\">\r\n          .mj-outlook-group-fix { width:100% !important; }\r\n        </style>\r\n        <![endif]-->\r\n  <style type=\"text/css\">\r\n    @media only screen and (min-width:480px) {\r\n      .mj-column-per-100 {\r\n        width: 100% !important;\r\n        max-width: 100%;\r\n      }\r\n    }\r\n  </style>\r\n  <style type=\"text/css\">\r\n    @media only screen and (max-width:480px) {\r\n      table.mj-full-width-mobile {\r\n        width: 100% !important;\r\n      }\r\n\r\n      td.mj-full-width-mobile {\r\n        width: auto !important;\r\n      }\r\n    }\r\n  </style>\r\n  <style type=\"text/css\">\r\n    a,\r\n    span,\r\n    td,\r\n    th {\r\n      -webkit-font-smoothing: antialiased !important;\r\n      -moz-osx-font-smoothing: grayscale !important;\r\n    }\r\n  </style>\r\n</head>\r\n\r\n<body style=\"background-color:#ffffff;\">\r\n  <!-- <div style=\"display:none;font-size:1px;color:#ffffff;line-height:1px;max-height:0px;max-width:0px;opacity:0;overflow:hidden;\"> Welcome to JMS </div> -->\r\n  <div style=\"background-color:#ffffff;\">\r\n    <!--[if mso | IE]>\r\n      <table\r\n         align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"\" style=\"width:600px;\" width=\"600\"\r\n      >\r\n        <tr>\r\n          <td style=\"line-height:0px;font-size:0px;mso-line-height-rule:exactly;\">\r\n      <![endif]-->\r\n    <div style=\"margin:0px auto;max-width:600px;\">\r\n      <table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\">\r\n        <tbody>\r\n          <tr>\r\n            <td style=\"direction:ltr;font-size:0px;padding:20px 0;padding-bottom:0px;text-align:center;\">\r\n              <!--[if mso | IE]>\r\n                  <table role=\"presentation\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n                \r\n        <tr>\r\n      \r\n            <td\r\n               class=\"\" style=\"vertical-align:top;width:600px;\"\r\n            >\r\n          <![endif]-->\r\n              <div class=\"mj-column-per-100 mj-outlook-group-fix\" style=\"font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:top;width:100%;\">\r\n                <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"vertical-align:top;\" width=\"100%\">\r\n                  <tbody><tr>\r\n                    <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"border-collapse:collapse;border-spacing:0px;\">\r\n                        <tbody>\r\n                          <tr>\r\n                            <td style=\"width:50px;\">\r\n                              <!-- <img alt=\"image description\" height=\"auto\" src=\"https://codedmails.com/images/logo-circle.png\" style=\"border:0;display:block;outline:none;text-decoration:none;height:auto;width:100%;font-size:14px;\" width=\"50\" /> -->\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <div style=\"font-family:Helvetica, Arial, sans-serif;font-size:18px;font-weight:400;line-height:24px;text-align:left;color:#434245;\">\r\n                        <h1 style=\"margin: 0; font-size: 24px; line-height: normal; font-weight: bold;\"> Tài khoản <br /> JMS! </h1>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                </tbody></table>\r\n              </div>\r\n              <!--[if mso | IE]>\r\n            </td>\r\n          \r\n        </tr>\r\n      \r\n                  </table>\r\n                <![endif]-->\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <!--[if mso | IE]>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n      \r\n      <table\r\n         align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"\" style=\"width:600px;\" width=\"600\"\r\n      >\r\n        <tr>\r\n          <td style=\"line-height:0px;font-size:0px;mso-line-height-rule:exactly;\">\r\n      <![endif]-->\r\n    <div style=\"margin:0px auto;max-width:600px;\">\r\n      <table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\">\r\n        <tbody>\r\n          <tr>\r\n            <td style=\"direction:ltr;font-size:0px;padding:20px 0;text-align:center;\">\r\n              <!--[if mso | IE]>\r\n                  <table role=\"presentation\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n                \r\n        <tr>\r\n      \r\n            <td\r\n               class=\"\" style=\"vertical-align:top;width:600px;\"\r\n            >\r\n          <![endif]-->\r\n              <div class=\"mj-column-per-100 mj-outlook-group-fix\" style=\"font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:top;width:100%;\">\r\n                <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"vertical-align:top;\" width=\"100%\">\r\n                  <tbody>\r\n                  <tr>\r\n                    <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <div style=\"font-family:Helvetica, Arial, sans-serif;font-size:18px;font-weight:400;line-height:24px;text-align:left;color:#434245;\">Chào {{FULL_NAME}}, bạn vừa được tạo tài khoản trên hệ thống của chúng tôi!</div>\r\n                    </td>\r\n                  </tr>\r\n                  \r\n                  <tr>\r\n                    <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <div style=\"font-family:Helvetica, Arial, sans-serif;font-size:18px;font-weight:400;line-height:24px;text-align:left;color:#434245;\">Tài khoản: {{USERNAME}}</div>\r\n                    </td>\r\n                  </tr>\r\n\r\n                  <tr>\r\n                    <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <div style=\"font-family:Helvetica, Arial, sans-serif;font-size:18px;font-weight:400;line-height:24px;text-align:left;color:#434245;\">Mật khẩu: {{PASSWORD}}</div>\r\n                    </td>\r\n                  </tr>\r\n\r\n                  <tr>\r\n                    <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <div style=\"font-family:Helvetica, Arial, sans-serif;font-size:18px;font-weight:400;line-height:24px;text-align:left;color:#434245;\">Nếu bạn cần bất kỳ sự trợ giúp nào, đừng ngần ngại liên hệ với chúng tôi theo <a href=\"#\" style=\"color: #2e58ff; text-decoration: none;\">admin@jmsz.com</a>!</div>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <div style=\"font-family:Helvetica, Arial, sans-serif;font-size:18px;font-weight:bold;line-height:24px;text-align:left;color:#434245;\">SEP-FU Team</div>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <!--[if mso | IE]>\r\n      <table\r\n         align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\"\r\n      >\r\n        <tr>\r\n      \r\n              <td>\r\n            <![endif]-->\r\n                      <table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"float:none;display:inline-table;\">\r\n                        <tbody><tr>\r\n                          <td style=\"padding:4px;\">\r\n                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"border-radius:3px;width:18px;\">\r\n                              <tbody><tr>\r\n                                <td style=\"font-size:0;height:18px;vertical-align:middle;width:18px;\">\r\n                                  <a href=\"#\" target=\"_blank\" style=\"color: #2e58ff; text-decoration: none;\">\r\n                                    <img alt=\"twitter-logo\" height=\"18\" src=\"https://codedmails.com/images/social/black/twitter-logo-transparent-black.png\" style=\"border-radius:3px;display:block;\" width=\"18\" />\r\n                                  </a>\r\n                                </td>\r\n                              </tr>\r\n                            </tbody></table>\r\n                          </td>\r\n                        </tr>\r\n                      </tbody></table>\r\n                      <!--[if mso | IE]>\r\n              </td>\r\n            \r\n              <td>\r\n            <![endif]-->\r\n                      <table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"float:none;display:inline-table;\">\r\n                        <tbody><tr>\r\n                          <td style=\"padding:4px;\">\r\n                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"border-radius:3px;width:18px;\">\r\n                              <tbody><tr>\r\n                                <td style=\"font-size:0;height:18px;vertical-align:middle;width:18px;\">\r\n                                  <a href=\"#\" target=\"_blank\" style=\"color: #2e58ff; text-decoration: none;\">\r\n                                    <img alt=\"facebook-logo\" height=\"18\" src=\"https://codedmails.com/images/social/black/facebook-logo-transparent-black.png\" style=\"border-radius:3px;display:block;\" width=\"18\" />\r\n                                  </a>\r\n                                </td>\r\n                              </tr>\r\n                            </tbody></table>\r\n                          </td>\r\n                        </tr>\r\n                      </tbody></table>\r\n                      <!--[if mso | IE]>\r\n              </td>\r\n            \r\n              <td>\r\n            <![endif]-->\r\n                      <table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"float:none;display:inline-table;\">\r\n                        <tbody><tr>\r\n                          <td style=\"padding:4px;\">\r\n                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"border-radius:3px;width:18px;\">\r\n                              <tbody><tr>\r\n                                <td style=\"font-size:0;height:18px;vertical-align:middle;width:18px;\">\r\n                                  <a href=\"#\" target=\"_blank\" style=\"color: #2e58ff; text-decoration: none;\">\r\n                                    <img alt=\"instagram-logo\" height=\"18\" src=\"https://codedmails.com/images/social/black/instagram-logo-transparent-black.png\" style=\"border-radius:3px;display:block;\" width=\"18\" />\r\n                                  </a>\r\n                                </td>\r\n                              </tr>\r\n                            </tbody></table>\r\n                          </td>\r\n                        </tr>\r\n                      </tbody></table>\r\n                      <!--[if mso | IE]>\r\n              </td>\r\n            \r\n          </tr>\r\n        </table>\r\n      <![endif]-->\r\n                    </td>\r\n                  </tr>\r\n                </tbody></table>\r\n              </div>\r\n              <!--[if mso | IE]>\r\n            </td>\r\n          \r\n        </tr>\r\n      \r\n                  </table>\r\n                <![endif]-->\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <!--[if mso | IE]>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n      \r\n      <table\r\n         align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"\" style=\"width:600px;\" width=\"600\"\r\n      >\r\n        <tr>\r\n          <td style=\"line-height:0px;font-size:0px;mso-line-height-rule:exactly;\">\r\n      <![endif]-->\r\n    <div style=\"margin:0px auto;max-width:600px;\">\r\n      <table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\">\r\n        <tbody>\r\n          <tr>\r\n            <td style=\"direction:ltr;font-size:0px;padding:20px 0;padding-top:0;text-align:center;\">\r\n              <!--[if mso | IE]>\r\n                  <table role=\"presentation\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n                \r\n        <tr>\r\n      \r\n            <td\r\n               class=\"\" style=\"vertical-align:top;width:600px;\"\r\n            >\r\n          <![endif]-->\r\n              <div class=\"mj-column-per-100 mj-outlook-group-fix\" style=\"font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:top;width:100%;\">\r\n                <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"vertical-align:top;\" width=\"100%\">\r\n                  <tbody><tr>\r\n                    <td style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <p style=\"border-top: dashed 1px lightgrey; font-size: 1px; margin: 0px auto; width: 100%;\">\r\n                      </p>\r\n                      <!--[if mso | IE]>\r\n        <table\r\n           align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-top:dashed 1px lightgrey;font-size:1px;margin:0px auto;width:550px;\" role=\"presentation\" width=\"550px\"\r\n        >\r\n          <tr>\r\n            <td style=\"height:0;line-height:0;\">\r\n              &nbsp;\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      <![endif]-->\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <div style=\"font-family:Helvetica, Arial, sans-serif;font-size:14px;font-weight:400;line-height:24px;text-align:left;color:#999999;\">Đây là sản phẩm bảo vệ đồ án của sinh viên FPT </a></div>\r\n                    </td>\r\n                  </tr>\r\n                  \r\n                </tbody></table>\r\n              </div>\r\n              <!--[if mso | IE]>\r\n            </td>\r\n          \r\n        </tr>\r\n      \r\n                  </table>\r\n                <![endif]-->\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <!--[if mso | IE]>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n      \r\n      <table\r\n         align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"\" style=\"width:600px;\" width=\"600\"\r\n      >\r\n        <tr>\r\n          <td style=\"line-height:0px;font-size:0px;mso-line-height-rule:exactly;\">\r\n      <![endif]-->\r\n    <div style=\"margin:0px auto;max-width:600px;\">\r\n      <table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\">\r\n        <tbody>\r\n          <tr>\r\n            <td style=\"direction:ltr;font-size:0px;padding:20px 0;text-align:center;\">\r\n              <!--[if mso | IE]>\r\n                  <table role=\"presentation\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n                \r\n        <tr>\r\n      \r\n            <td\r\n               class=\"\" style=\"vertical-align:top;width:600px;\"\r\n            >\r\n          <![endif]-->\r\n              <div class=\"mj-column-per-100 mj-outlook-group-fix\" style=\"font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:top;width:100%;\">\r\n                <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"vertical-align:top;\" width=\"100%\">\r\n                  <tbody><tr>\r\n                    <td style=\"font-size:0px;word-break:break-word;\">\r\n                      <!--[if mso | IE]>\r\n    \r\n        <table role=\"presentation\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><tr><td height=\"1\" style=\"vertical-align:top;height:1px;\">\r\n      \r\n    <![endif]-->\r\n                      <div style=\"height:1px;\">   </div>\r\n                      <!--[if mso | IE]>\r\n    \r\n        </td></tr></table>\r\n      \r\n    <![endif]-->\r\n                    </td>\r\n                  </tr>\r\n                </tbody></table>\r\n              </div>\r\n              <!--[if mso | IE]>\r\n            </td>\r\n          \r\n        </tr>\r\n      \r\n                  </table>\r\n                <![endif]-->\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <!--[if mso | IE]>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n      <![endif]-->\r\n  </div>\r\n\r\n\r\n</body></html>";
        private static string updateAccount = "<!DOCTYPE html><html lang=\"en\" xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:v=\"urn:schemas-microsoft-com:vml\" xmlns:o=\"urn:schemas-microsoft-com:office:office\"><head>\r\n  <title> [JMS] Account Information </title>\r\n  <!--[if !mso]><!-- -->\r\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\r\n  <!--<![endif]-->\r\n  <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n  <style type=\"text/css\">\r\n    #outlook a {\r\n      padding: 0;\r\n    }\r\n\r\n    body {\r\n      margin: 0;\r\n      padding: 0;\r\n      -webkit-text-size-adjust: 100%;\r\n      -ms-text-size-adjust: 100%;\r\n    }\r\n\r\n    table,\r\n    td {\r\n      border-collapse: collapse;\r\n      mso-table-lspace: 0pt;\r\n      mso-table-rspace: 0pt;\r\n    }\r\n\r\n    img {\r\n      border: 0;\r\n      height: auto;\r\n      line-height: 100%;\r\n      outline: none;\r\n      text-decoration: none;\r\n      -ms-interpolation-mode: bicubic;\r\n    }\r\n\r\n    p {\r\n      display: block;\r\n      margin: 13px 0;\r\n    }\r\n  </style>\r\n  <!--[if mso]>\r\n        <xml>\r\n        <o:OfficeDocumentSettings>\r\n          <o:AllowPNG/>\r\n          <o:PixelsPerInch>96</o:PixelsPerInch>\r\n        </o:OfficeDocumentSettings>\r\n        </xml>\r\n        <![endif]-->\r\n  <!--[if lte mso 11]>\r\n        <style type=\"text/css\">\r\n          .mj-outlook-group-fix { width:100% !important; }\r\n        </style>\r\n        <![endif]-->\r\n  <style type=\"text/css\">\r\n    @media only screen and (min-width:480px) {\r\n      .mj-column-per-100 {\r\n        width: 100% !important;\r\n        max-width: 100%;\r\n      }\r\n    }\r\n  </style>\r\n  <style type=\"text/css\">\r\n    @media only screen and (max-width:480px) {\r\n      table.mj-full-width-mobile {\r\n        width: 100% !important;\r\n      }\r\n\r\n      td.mj-full-width-mobile {\r\n        width: auto !important;\r\n      }\r\n    }\r\n  </style>\r\n  <style type=\"text/css\">\r\n    a,\r\n    span,\r\n    td,\r\n    th {\r\n      -webkit-font-smoothing: antialiased !important;\r\n      -moz-osx-font-smoothing: grayscale !important;\r\n    }\r\n  </style>\r\n</head>\r\n\r\n<body style=\"background-color:#ffffff;\">\r\n  <!-- <div style=\"display:none;font-size:1px;color:#ffffff;line-height:1px;max-height:0px;max-width:0px;opacity:0;overflow:hidden;\"> Welcome to JMS </div> -->\r\n  <div style=\"background-color:#ffffff;\">\r\n    <!--[if mso | IE]>\r\n      <table\r\n         align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"\" style=\"width:600px;\" width=\"600\"\r\n      >\r\n        <tr>\r\n          <td style=\"line-height:0px;font-size:0px;mso-line-height-rule:exactly;\">\r\n      <![endif]-->\r\n    <div style=\"margin:0px auto;max-width:600px;\">\r\n      <table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\">\r\n        <tbody>\r\n          <tr>\r\n            <td style=\"direction:ltr;font-size:0px;padding:20px 0;padding-bottom:0px;text-align:center;\">\r\n              <!--[if mso | IE]>\r\n                  <table role=\"presentation\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n                \r\n        <tr>\r\n      \r\n            <td\r\n               class=\"\" style=\"vertical-align:top;width:600px;\"\r\n            >\r\n          <![endif]-->\r\n              <div class=\"mj-column-per-100 mj-outlook-group-fix\" style=\"font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:top;width:100%;\">\r\n                <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"vertical-align:top;\" width=\"100%\">\r\n                  <tbody><tr>\r\n                    <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"border-collapse:collapse;border-spacing:0px;\">\r\n                        <tbody>\r\n                          <tr>\r\n                            <td style=\"width:50px;\">\r\n                              <!-- <img alt=\"image description\" height=\"auto\" src=\"https://codedmails.com/images/logo-circle.png\" style=\"border:0;display:block;outline:none;text-decoration:none;height:auto;width:100%;font-size:14px;\" width=\"50\" /> -->\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <div style=\"font-family:Helvetica, Arial, sans-serif;font-size:18px;font-weight:400;line-height:24px;text-align:left;color:#434245;\">\r\n                        <h1 style=\"margin: 0; font-size: 24px; line-height: normal; font-weight: bold;\"> Tài khoản <br /> JMS! </h1>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                </tbody></table>\r\n              </div>\r\n              <!--[if mso | IE]>\r\n            </td>\r\n          \r\n        </tr>\r\n      \r\n                  </table>\r\n                <![endif]-->\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <!--[if mso | IE]>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n      \r\n      <table\r\n         align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"\" style=\"width:600px;\" width=\"600\"\r\n      >\r\n        <tr>\r\n          <td style=\"line-height:0px;font-size:0px;mso-line-height-rule:exactly;\">\r\n      <![endif]-->\r\n    <div style=\"margin:0px auto;max-width:600px;\">\r\n      <table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\">\r\n        <tbody>\r\n          <tr>\r\n            <td style=\"direction:ltr;font-size:0px;padding:20px 0;text-align:center;\">\r\n              <!--[if mso | IE]>\r\n                  <table role=\"presentation\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n                \r\n        <tr>\r\n      \r\n            <td\r\n               class=\"\" style=\"vertical-align:top;width:600px;\"\r\n            >\r\n          <![endif]-->\r\n              <div class=\"mj-column-per-100 mj-outlook-group-fix\" style=\"font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:top;width:100%;\">\r\n                <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"vertical-align:top;\" width=\"100%\">\r\n                  <tbody>\r\n                  <tr>\r\n                    <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <div style=\"font-family:Helvetica, Arial, sans-serif;font-size:18px;font-weight:400;line-height:24px;text-align:left;color:#434245;\">Chào {{FULL_NAME}}, bạn vừa được Quản trị viên cập nhật thông tin tài khoản!</div>\r\n                    </td>\r\n                  </tr>\r\n                  \r\n                  <tr>\r\n                    <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <div style=\"font-family:Helvetica, Arial, sans-serif;font-size:18px;font-weight:400;line-height:24px;text-align:left;color:#434245;\">Tài khoản: {{USERNAME}}</div>\r\n                    </td>\r\n                  </tr>\r\n\r\n                  <tr>\r\n                    <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <div style=\"font-family:Helvetica, Arial, sans-serif;font-size:18px;font-weight:400;line-height:24px;text-align:left;color:#434245;\">Mật khẩu: {{PASSWORD}}</div>\r\n                    </td>\r\n                  </tr>\r\n\r\n                  <tr>\r\n                    <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <div style=\"font-family:Helvetica, Arial, sans-serif;font-size:18px;font-weight:400;line-height:24px;text-align:left;color:#434245;\">Nếu bạn cần bất kỳ sự trợ giúp nào, đừng ngần ngại liên hệ với chúng tôi theo <a href=\"#\" style=\"color: #2e58ff; text-decoration: none;\">admin@jmsz.com</a>!</div>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <div style=\"font-family:Helvetica, Arial, sans-serif;font-size:18px;font-weight:bold;line-height:24px;text-align:left;color:#434245;\">SEP-FU Team</div>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <!--[if mso | IE]>\r\n      <table\r\n         align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\"\r\n      >\r\n        <tr>\r\n      \r\n              <td>\r\n            <![endif]-->\r\n                      <table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"float:none;display:inline-table;\">\r\n                        <tbody><tr>\r\n                          <td style=\"padding:4px;\">\r\n                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"border-radius:3px;width:18px;\">\r\n                              <tbody><tr>\r\n                                <td style=\"font-size:0;height:18px;vertical-align:middle;width:18px;\">\r\n                                  <a href=\"#\" target=\"_blank\" style=\"color: #2e58ff; text-decoration: none;\">\r\n                                    <img alt=\"twitter-logo\" height=\"18\" src=\"https://codedmails.com/images/social/black/twitter-logo-transparent-black.png\" style=\"border-radius:3px;display:block;\" width=\"18\" />\r\n                                  </a>\r\n                                </td>\r\n                              </tr>\r\n                            </tbody></table>\r\n                          </td>\r\n                        </tr>\r\n                      </tbody></table>\r\n                      <!--[if mso | IE]>\r\n              </td>\r\n            \r\n              <td>\r\n            <![endif]-->\r\n                      <table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"float:none;display:inline-table;\">\r\n                        <tbody><tr>\r\n                          <td style=\"padding:4px;\">\r\n                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"border-radius:3px;width:18px;\">\r\n                              <tbody><tr>\r\n                                <td style=\"font-size:0;height:18px;vertical-align:middle;width:18px;\">\r\n                                  <a href=\"#\" target=\"_blank\" style=\"color: #2e58ff; text-decoration: none;\">\r\n                                    <img alt=\"facebook-logo\" height=\"18\" src=\"https://codedmails.com/images/social/black/facebook-logo-transparent-black.png\" style=\"border-radius:3px;display:block;\" width=\"18\" />\r\n                                  </a>\r\n                                </td>\r\n                              </tr>\r\n                            </tbody></table>\r\n                          </td>\r\n                        </tr>\r\n                      </tbody></table>\r\n                      <!--[if mso | IE]>\r\n              </td>\r\n            \r\n              <td>\r\n            <![endif]-->\r\n                      <table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"float:none;display:inline-table;\">\r\n                        <tbody><tr>\r\n                          <td style=\"padding:4px;\">\r\n                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"border-radius:3px;width:18px;\">\r\n                              <tbody><tr>\r\n                                <td style=\"font-size:0;height:18px;vertical-align:middle;width:18px;\">\r\n                                  <a href=\"#\" target=\"_blank\" style=\"color: #2e58ff; text-decoration: none;\">\r\n                                    <img alt=\"instagram-logo\" height=\"18\" src=\"https://codedmails.com/images/social/black/instagram-logo-transparent-black.png\" style=\"border-radius:3px;display:block;\" width=\"18\" />\r\n                                  </a>\r\n                                </td>\r\n                              </tr>\r\n                            </tbody></table>\r\n                          </td>\r\n                        </tr>\r\n                      </tbody></table>\r\n                      <!--[if mso | IE]>\r\n              </td>\r\n            \r\n          </tr>\r\n        </table>\r\n      <![endif]-->\r\n                    </td>\r\n                  </tr>\r\n                </tbody></table>\r\n              </div>\r\n              <!--[if mso | IE]>\r\n            </td>\r\n          \r\n        </tr>\r\n      \r\n                  </table>\r\n                <![endif]-->\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <!--[if mso | IE]>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n      \r\n      <table\r\n         align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"\" style=\"width:600px;\" width=\"600\"\r\n      >\r\n        <tr>\r\n          <td style=\"line-height:0px;font-size:0px;mso-line-height-rule:exactly;\">\r\n      <![endif]-->\r\n    <div style=\"margin:0px auto;max-width:600px;\">\r\n      <table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\">\r\n        <tbody>\r\n          <tr>\r\n            <td style=\"direction:ltr;font-size:0px;padding:20px 0;padding-top:0;text-align:center;\">\r\n              <!--[if mso | IE]>\r\n                  <table role=\"presentation\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n                \r\n        <tr>\r\n      \r\n            <td\r\n               class=\"\" style=\"vertical-align:top;width:600px;\"\r\n            >\r\n          <![endif]-->\r\n              <div class=\"mj-column-per-100 mj-outlook-group-fix\" style=\"font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:top;width:100%;\">\r\n                <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"vertical-align:top;\" width=\"100%\">\r\n                  <tbody><tr>\r\n                    <td style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <p style=\"border-top: dashed 1px lightgrey; font-size: 1px; margin: 0px auto; width: 100%;\">\r\n                      </p>\r\n                      <!--[if mso | IE]>\r\n        <table\r\n           align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"border-top:dashed 1px lightgrey;font-size:1px;margin:0px auto;width:550px;\" role=\"presentation\" width=\"550px\"\r\n        >\r\n          <tr>\r\n            <td style=\"height:0;line-height:0;\">\r\n              &nbsp;\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      <![endif]-->\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td align=\"left\" style=\"font-size:0px;padding:10px 25px;word-break:break-word;\">\r\n                      <div style=\"font-family:Helvetica, Arial, sans-serif;font-size:14px;font-weight:400;line-height:24px;text-align:left;color:#999999;\">Đây là sản phẩm bảo vệ đồ án của sinh viên FPT </a></div>\r\n                    </td>\r\n                  </tr>\r\n                  \r\n                </tbody></table>\r\n              </div>\r\n              <!--[if mso | IE]>\r\n            </td>\r\n          \r\n        </tr>\r\n      \r\n                  </table>\r\n                <![endif]-->\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <!--[if mso | IE]>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n      \r\n      <table\r\n         align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"\" style=\"width:600px;\" width=\"600\"\r\n      >\r\n        <tr>\r\n          <td style=\"line-height:0px;font-size:0px;mso-line-height-rule:exactly;\">\r\n      <![endif]-->\r\n    <div style=\"margin:0px auto;max-width:600px;\">\r\n      <table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"width:100%;\">\r\n        <tbody>\r\n          <tr>\r\n            <td style=\"direction:ltr;font-size:0px;padding:20px 0;text-align:center;\">\r\n              <!--[if mso | IE]>\r\n                  <table role=\"presentation\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n                \r\n        <tr>\r\n      \r\n            <td\r\n               class=\"\" style=\"vertical-align:top;width:600px;\"\r\n            >\r\n          <![endif]-->\r\n              <div class=\"mj-column-per-100 mj-outlook-group-fix\" style=\"font-size:0px;text-align:left;direction:ltr;display:inline-block;vertical-align:top;width:100%;\">\r\n                <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\" style=\"vertical-align:top;\" width=\"100%\">\r\n                  <tbody><tr>\r\n                    <td style=\"font-size:0px;word-break:break-word;\">\r\n                      <!--[if mso | IE]>\r\n    \r\n        <table role=\"presentation\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><tr><td height=\"1\" style=\"vertical-align:top;height:1px;\">\r\n      \r\n    <![endif]-->\r\n                      <div style=\"height:1px;\">   </div>\r\n                      <!--[if mso | IE]>\r\n    \r\n        </td></tr></table>\r\n      \r\n    <![endif]-->\r\n                    </td>\r\n                  </tr>\r\n                </tbody></table>\r\n              </div>\r\n              <!--[if mso | IE]>\r\n            </td>\r\n          \r\n        </tr>\r\n      \r\n                  </table>\r\n                <![endif]-->\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <!--[if mso | IE]>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n      <![endif]-->\r\n  </div>\r\n\r\n\r\n</body></html>";
        public static void SendEmail(IConfiguration configuration, string mailAddress, string subject, string body)
        {
            var emailAddress = configuration.GetValue<string>("EmailAddress");
            var emailPassword = configuration.GetValue<string>("EmailPassword");
            SmtpClient smtpClient = new SmtpClient("smtp.gmail.com")
            {
                Port = 587,
                Credentials = new NetworkCredential(emailAddress, emailPassword),
                EnableSsl = true
            };
            MailMessage mailMessage = new MailMessage()
            {
                From = new MailAddress(emailAddress ?? string.Empty),
                Subject = $"【JMS】 {subject}",
                Body = body,
            };
            mailMessage.IsBodyHtml = true;
            mailMessage.To.Add(mailAddress.Trim());
            smtpClient.UseDefaultCredentials = false;
            smtpClient.Send(mailMessage);
        }

        public static void SendEmailResetPasswordAsync(IConfiguration configuration, string mailAddress, string newPassword)
        {
            _ = Task.Run(() => { SendEmail(configuration, mailAddress, "Reset Password", passTemplate.Replace("{{PASSWORD}}", newPassword)); });
        }

        public static void SendEmailNewAccount(IConfiguration configuration, string mailAddress, string fullName, string userName, string password)
        {
            var body = newAccount.Replace("{{FULL_NAME}}", fullName).Replace("{{USERNAME}}", userName).Replace("{{PASSWORD}}", password);
            _ = Task.Run(() => { SendEmail(configuration, mailAddress, "Tài khoản mới", body); });
        }

        public static void SendEmailUpdateAccount(IConfiguration configuration, string mailAddress, string fullName, string userName, string password)
        {
            var body = updateAccount.Replace("{{FULL_NAME}}", fullName).Replace("{{USERNAME}}", userName).Replace("{{PASSWORD}}", password);
            _ = Task.Run(() => { SendEmail(configuration, mailAddress, "Cập nhật tài khoản", body); });
        }
    }
}
